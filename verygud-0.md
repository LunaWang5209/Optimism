---
timezone: Asia/Shanghai
---

> 请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区
> 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

---

# {verygud-0}

1. 一个喜欢学习的人，2017年入圈的老韭菜，希望更多的了解Optimism
2. 我一定会坚持到底

## Notes

<!-- Content_START -->

### 2025.01.06

今天学习、了解了Optimistic Rollup，总的来说他替eth解决了高手续费和低tps的问题，事实证明也确实有很好的效果，虽然中心化方面牺牲了很多，但系统需要人来打造，去中心化也需要中心化来过渡，这可能是目前不可能三角相对平衡的方法，而且op已经成为L2第一大生态，甚至刚刚才知道base也是基于op stack构建，可以说已经垄断了整个L2的链上活动。

再说到具体技术，日常只是通过使用、交互各种DAPP，进行简单的链上行为，却不知道op背后的每一笔交易都有着块存储、区块生产、块执行等技术的支持。
我觉得op的运作理念很好—— “影响=利润，对集体产生积极影响的个人应获得相应的利润回报”，op也确实是这样做的，这种长期、可持续的激励措施，使得生态百花齐放，也让用户更好的接触到真正有价值的应用

### 2025.01.07
今天学到了一个关于op的新机制——故障证明，这个机制的作用在于维护系统的公平公正，可以适当的解决去中心化（信任）的问题，他的运作原理简单但很有趣
其中有几个关键特点：
1.无需许可的提议
   也就是说任何人都可以通过合约向eth提交“状态提议”
    状态提议主要是用于用户在op链上的操作
2.无需许可的挑战
    这个是我觉得最有意思的地方，因为任何人都可以发起挑战，质疑状态提议，再通过“故障证明游戏”进行纠错
3.模块化设计和多层安全性
    模块化设计使得op可以实现多个证明系统，以确保单独证明系统的中心化，进而规避潜在的风险和错误
     在安全层面，建立了链下监控系统来监控所有提议的根，并确保他们与正确的状态一致，“间隙窗口”又给了守护者足够的时间进行监控，以拒绝无效根。
      还有delayweth作为独立的合约持有资金，以保证在哪怕错误的情况下，重新定向到正确的收款人
### 2025.01.08
介绍Stages — 评估 Rollups 成熟度的框架：分阶段的去中心化与安全性提升
“训练轮”，一个在早期集中控制实现系统稳定的模式，这种模式适用于rollup早期起步阶段，但为了安全性，在必要时候进行了移除。
        为此，基于v神提出的里程碑框架，创建了一个新的分阶段评估体系，根据rollup对辅助工具的依赖程度将发展分为三个阶段：
        1.阶段0——全面训练
        在此阶段，rollup 由操作员有效运行。不过，有一个源可用软件，可以根据 L1 上发布的数据重建状态，用于将状态根与提议的根进行比较。
         状态重建：通过在以太坊主网（L1）发布的链上数据，可以重建 L2 的状态。
          状态根对比：能够将提议的状态根与实际的链上数据进行对比，以验证其准确性。
        2.阶段1——有限的训练轮
        在此阶段，rollup 过渡到由智能合约管理。但是，可能会保留一个安全委员会来解决潜在的错误。此阶段的特点是实施功能齐全的证明系统、分散欺诈证明提交，并提供无需运营商协调的用户退出。由多元化参与者组成的安全委员会提供了安全网，但其权力也带来了潜在风险。
        功能性证明系统：实现防欺诈（Fraud Proof）或有效性证明（Validity Proof）。
	 分散式欺诈证明提交：至少允许 5 个外部参与者提交欺诈证明。
	 用户独立退出：用户可以在无需运营方配合的情况下退出 L2。
	 安全委员会：作为安全保障机制，防止重大系统漏洞对用户资产造成威胁，但其权限受限。
        3.阶段2——无需训练
        这是 Rollup 完全由智能合约管理的最后阶段。此时，防欺诈系统无需许可，如果出现不必要的升级，用户有充足的时间退出。安理会的作用严格限于解决可以在链上裁决的健全性错误，并保护用户免受治理攻击。
无许可的欺诈证明：任何人都可以提交欺诈证明，系统不再依赖中心化参与者。
	 用户退出窗口：用户在面对不愿接受的升级时，有至少 30 天的时间退出系统。
	 安全委员会权限限制：仅在系统出现严重错误（如链上检测到的有效性问题）时可以介入，进一步减少对信任的依赖。
	通过今天的学习，了解到了rollup的发展阶段，每个阶段可以说是都有其必要性，也都是经过团队精心的设计，保证安全性的前提下，使每个阶段得以过渡到下一阶段，进而达到阶段二的完全去信任化，op真的很伟大
### 2025.01.09
今日份共学：框架，深入研究具体要求和条件

昨天学习了rollup的发展背景和v神提出的三个阶段，今天来进一步了解三个阶段的细节
框架：接下来内容，概述了各个阶段的关键要求和条件

阶段0：怎样才是rollup开始
        1.要被视为rollup，项目必须自我标注为rollup，目的是区分其他类型的L2
        2.状态发布在L1，状态发布到L1是根本要求，为的是确保资产提现
        3.项目是否提供L1上的数据可用性，确保L1上的数据可用性对于rollup的安全性和可靠性非常重要，目的是增强系统透明度和可审计性
         4.重建rollup状态源的软件，必须有从L1数据重建L2状态的rollup节点软件，目的是提高透明度和信任度。

阶段1:项目是否使用了适当的证明系统
         1.证明系统：用于裁定所提议的状态根是否正确，在欺诈证明系统中，它允许拒绝无效证明。对于 zk rollups，证明系统需要接受所提议的状态根。如果使用状态差异来确保数据可用性，则证明系统还必须确保所有状态更改都包含在差异中。
         2.欺诈证明参与者：欺诈证明系统需要至少一位诚实的参与者来验证提议的状态根的正确性并可能对其提出异议。对于
第 2 阶段，证明系统必须向所有参与者开放，但对于第 1 阶段，我们允许使用允许列表。欺诈证明系统必须允许至少 5 位外部参与者执行此任务。
         3.无需协调的用户退出：系统的设计应确保用户提款不会被 Rollup 运营商阻止。Rollup 必须实施允许用户独立退出的机制，确保他们始终能够访问和控制自己的资产。
         4.针对升级的七天退出时间窗口：此要求旨在保护用户，以防系统发生重大变化，例如他们不同意升级或修改。7 天的最短退出期为用户提供了足够的时间来提取资产并退出系统（如果他们选择的话）。在此阶段，安全理事会和治理系统可以更迅速地采取行动。请注意，仅 7 天的升级延迟可能还不够：如果存在任何退出延迟（例如，在审查运营商的情况下强制交易的延迟），则会从退出窗口中扣除。
        5.安全委员会：安全委员会是系统中的保障措施，一旦证明系统出现错误或问题，委员会便会介入。它必须通过由至少 8 名参与者组成的多重签名设置来运作，并且需要 50% 的共识门槛。此外，至少一半的参与者必须来自运行汇总的组织之外，至少需要两名外部人员才能达成共识。这种设置确保了观点的多样性，并最大限度地降低了任何一方施加不当影响的风险。为了透明和负责，理事会参与者的身份（或化名）也应公开披露。
          
阶段2:真正的去中心化
        1.无需许可的欺诈证明：在此阶段，欺诈证明系统应完全去中心化并向所有人开放。这意味着任何人（而不仅仅是一组允许名单上的参与者）都应该能够提交欺诈证明。这是确保系统不受有限实体控制而是受到整个社区集体审查的关键要求。
        2.30天退出窗口期：如果出现不需要的升级，包括由 DAO 发起的升级，用户应至少有 30 天的时间退出系统。这个充足的时间框架允许用户对他们可能不同意的系统中的重要变化做出反应，并在必要时撤回他们的资产。我们做出的一个例外是，如果存在链上错误检测系统（例如两个有效的相互矛盾的 zk 证明），则允许对检测到的错误进行即时升级。
        3.安理会权限：在 Rollup 开发的最后阶段，安理会的权力应该受到严格限制。它应该只能在可裁定的健全性错误的情况下进行干预，这些错误是系统中的严重缺陷，如果不加以解决，可能会造成重大损害。通过将理事会的行动限制在这些类型的错误上，系统变得更加去中心化，对安理会的信任也会降低。这使得 Rollup 进一步朝着信任最小化的理想迈进，其中代码本身就是最终权威。此功能的一个示例存在于 Polygon zkEVM 合约中，如果可以使用相同批次提交两个不同的有效证明，则 Rollup 进入“紧急模式”。
	
通过今天的学习，让我意识到系统安全的重要性，这三个阶段，每一阶段都有自己特定阶段需要的具体要求，但都围绕安全性为基础的前提，毕竟一个系统的安全性出了问题，那么这个系统也就无法运作下去，更无价值可言。
         通过对三个阶段的了解，可以明显感觉到每个阶段侧重点不一样，就像阶段0，在起步阶段，为了效率必需要牺牲一部分去中心化，来实现rollup标注、状态根发送到L1、L1数据可用性和状态重建软件等基本功能。
         到了阶段1，系统的初步运行后，侧重点就到了维护系统的安全性和用户保护，其实这本来就是一码事，维护了系统的安全性就是维护了用户的利益。这个阶段，已经可以看出通过欺诈证明、5个外部参与者和安全委员会的设立，渐渐增强了去中心化。
        阶段2更像是一种结果，有了阶段0到1的过渡和铺垫，自然孕育出了完全去中心化的阶段2，实现真正的code is law
        又是收获满满的一天，感叹rollup设计的缜密，犹如一个孩子，在一天一天成长，终有一天实现真正的去中心化，自我成长
### 2025.01.10
今日份学习：OP 主网交易费用
1. 交易费用组成
OP Mainnet 的交易费用由以下两部分组成：
    1.执行 Gas 费
    2.L1 数据费
    交易的总成本是这两部分费用的总和。

 (1)执行 Gas 费用
    执行 Gas 费用与eth上的执行费用完全相同：此费用等于交易使用的 gas 量乘以交易附带的 gas 价格
    由于 OP 主网与 EVM 等价，因此OP 主网上交易使用的 gas 与以太坊上相同交易使用的 gas 完全相同。如果以太坊上的交易成本为 100,000 gas，则 OP 主网上也将花费 100,000 gas。唯一的区别是 OP 主网上的 gas 价格远低于以太坊上的 gas 价格，因此您最终支付的 ETH 费用要少得多。
基本费用
    基本费用是交易必须支付的每单位 gas 的最低价格，才能将其纳入区块。交易必须指定高于区块基本费用的最高基本费用才能纳入。实际收取的费用是区块基本费用，即使交易指定了更高的最高基本费用。
    OP 主网基础费用与以太坊基础费用完全相同，但有一些小的参数变化，以适应 OP 主网更短的出块时间。这些参数都不会对您的应用程序产生重大影响

优先费
    和以太坊一样，OP 主网交易可以指定优先费用。此优先费用是在基本费用之上支付的每单位 gas 的价格。例如，如果区块基本费用为 1 gwei，而交易指定优先费用为 1 gwei，则每单位 gas 的总价格为 2 gwei。优先费用（小费）是执行 gas 费用的可选组成部分，从技术上讲可以设置为 0。但是，虽然 EIP-1559 没有定义最低优先费用，但某些钱包和内存池实现（如 Geth）可能会强制执行最低值。例如，Geth 通常默认最低优先费用为 1 gwei，但可以将其配置为其他值。
    OP主网排序器将优先处理具有较高优先级费用的交易，并在任何具有较低优先级费用的交易之前执行它们。如果交易速度对您的应用程序很重要，您可能需要设置更高的优先级费用，以确保您的交易更快地被纳入.

L1 数据费用
    L1 数据费是 OP 主网交易费中唯一与以太坊交易费不同的部分。该费用源于所有 OP 主网交易的交易数据都会发布到以太坊。这保证了交易数据可供节点下载和执行。L1 数据费是将 OP 主网交易发布到以太坊的成本，主要由以太坊当前的基础费用决定。在 Ecotone 升级后，OP Stack 链将可以选择使用blobs（在新标签页中打开）对于支持 blob 的链，当前以太坊 blob 数据 gas 价格将在很大程度上决定 L1 数据费用。

机制
    任何包含在 OP 主网区块中的交易都会自动收取 L1 数据费。此费用直接从发送交易的地址中扣除。支付的确切金额取决于压缩后交易的估计大小（以字节为单位）、当前以太坊 gas 价格和/或 blob gas 价格以及几个小参数。
    L1 数据费受以太坊基础费的影响最大，该费用会持续且无需信任地从以太坊传递到 OP 主网。随着 Ecotone 升级，以太坊 blob 基础费也会传递到 OP 主网，并将成为配置为使用 blob 而非基础费的区块链的最重要因素。基础费和 blob 基础费会在 OP 主网上针对每个以太坊区块进行更新，每次更新之间的波动幅度最多为 12.5%。因此，L1 数据费的短期波动通常很小，不会影响平均交易。

总结： OP Mainnet 的交易费用结构优化了 Ethereum 上的费用计算方式，通过降低 Gas 价格与 L1 数据费用，显著减少用户的交易成本。同时，逐步引入更高效的费用计算机制以提高链的整体性能和用户体验。

### 2025.01.11
今天复习、巩固了一下前几天学习的内容
### 2025.01.12
入门：OP主网
1. 理解OP主网开发
	OP主网相当于EVM，运行的是稍微修改版的以太坊客户端，与以太坊的开发方式相比，OP Mainnet 的开发差异很小。

2. OP Mainnet 和 OP Sepolia 端点 URL
要与 OP Mainnet 或 OP Sepolia 交互，需要使用支持的 节点地址。常见的服务商包括 Alchemy、Infura 等。根据目标网络选择合适的节点网络
	OP Mainnet：生产环境（上线时使用）。
	OP Sepolia：测试环境（推荐用于开发和调试）。
如果需要测试用的 ETH，可以通过“水龙头”获取 OP Sepolia 测试币。
3. 本地开发
建议使用 本地开发节点 或 OP Sepolia 测试网 进行开发和调试，避免消耗实际资金。可以通过交互测试 OP Sepolia 上的合约，确保开发环境配置正确。
4. 开发工具
OP Mainnet 和 OP Sepolia 的合约部署与交互方式与以太坊 L1 基本相同。最明显的区别是您必须指定不同的节点，可以选择以下开发工具：
	Hardhat、Foundry、Remix、Truffle、Brownie、Apeworx、Waffle
5. 最佳实践
使用提供的EVM
          最好使用开发堆栈提供的 EVM 开始开发。它不仅速度更快，而且此类 EVM 通常具有额外功能

部署前的调试
            完成开发后，使用开发节点或sepolia测试网调试您的去中心化应用程序。这样您就可以调试 OP Mainnet 特定的部分，例如调用桥接器在层之间传输 ETH 或代币。
            只有当你拥有一个在测试网络上运行良好的版本时，你才应该部署到生产网络，其中每个交易都有成本。

验证合约源码
		在测试网络上，验证源码可以通过区块浏览器的用户界面直接查询和调用合约。
		在生产网络上，验证源码可以让用户清楚了解合约功能，从而建立信任。
		使用etherscanAPI进行源码验证，需要单独的OP Mainnet 和 OP Sepolia 的 API Key。
总结：
OP 主网的开发流程与以太坊类似，但需要针对网络特点进行适配。开发时应优先在测试环境调试并验证合约。

<!-- Content_END -->
