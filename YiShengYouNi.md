---
timezone: Asia/Shanghai
---

# Henry Wei

1.自我介绍

大家好！我是一名拥有 10 年 Web 开发经验的技术经理和架构师，在多家公司中带领过团队，也主导过多个中大型项目的技术设计。写代码、解决问题、优化用户体验这些事，一直让我感到兴奋，因为我热爱创造并看到它产生实际影响。

最近，我对 Web3 领域产生了浓厚的兴趣。这个充满未知和可能性的领域让我很兴奋，也让我重新找回了刚开始学习编程时的那种好奇心。我希望未来能在这方面做一些尝试，深入探索区块链和去中心化的世界。

生活中，我喜欢和不同文化、背景的人交流，总能从他们的故事中获得灵感。我相信，每一次真诚的交流都是一次成长的机会。

我是个对未来充满信心的人，无论是面对技术还是生活中的挑战，我始终相信，只要脚踏实地，总会迎来让人惊喜的结果。期待和更多志同道合的人一起交流，共同学习！

2.你认为你会完成本次残酷学习吗？

很高兴可以参加这次共建学习，我相信自己会坚持到第21天，加油吧！

## Notes

<!-- Content_START -->

### 2025.01.06

#### Layer2 扩容方案

Layer 2 扩容方案是为了提升区块链的性能，尤其是`处理速度`和`降低交易成本`，它们通常在现有的 Layer 1 区块链（如以太坊）之上运行.

##### 状态通道（State Channels）

状态通道是允许用户在链外进行多次交易，然后仅在最终结果时将其提交到主链的一种方法。通过这种方式，可以显著减少链上交易的数量，从而提高效率。

- 优点：交易速度快、成本低、隐私保护好。
- 缺点：适用于交互频繁的小额支付场景，不适合大规模应用。

例子：

- 闪电网络（Lightning Network）：比特币的状态通道扩容方案。
- Raiden Network：以太坊的状态通道扩容方案

##### Rollups

Rollups 是将交易打包成批次后，发送到主链上进行验证的技术。通过将交易批量化处理，减少了主链的负担，同时保持了安全性

Rollups 主要有两种类型：

- **ZK-Rollups（零知识汇总）**：

  通过零知识证明（ZKP）将链外的计算结果验证到链上。ZK-Rollups 提供高效的可扩展性和安全性，支持更高的交易吞吐量和更低的延迟。

- **Optimistic Rollups（乐观汇总）**：
  
  假设交易是合法的，并且在有争议时会通过挑战机制来验证。Optimistic Rollups 更易实现，但相比 ZK-Rollups 在效率上有所牺牲。
  
优点：

- ZK-Rollups：高效、安全、低延迟。
- Optimistic Rollups：实现简单、易于扩展。

例子：

- zkSync、StarkWare（基于 ZK-Rollups）
- OP、Arbitrum（基于 Optimistic Rollups）

##### Plasma

Plasma 是一种构建在主链上的子链架构，它通过在链下处理交易并定期将其压缩后提交到主链来扩展区块链的处理能力。

它允许更多的交易通过“子链”进行，并且在子链与主链之间使用特殊的验证程序来保证安全性。

优点：

- 可扩展性强。
- 主链的安全性得到保障。

缺点：

- 状态更新的延迟。
- 需要定期进行“退出”操作，防止欺诈。

例子：

- OmiseGo：基于 Plasma 的扩容解决方案

#### Sidechains

Sidechains 是独立的区块链，可以与主链进行双向资产转移。与 Rollups 不同，Sidechains 通常有自己的共识机制，并且交易处理是完全独立于主链的

优点：

- 可以根据需要自定义链的参数和共识机制。
- 可扩展性较强。

缺点：

- 安全性较差，因为 Sidechain 可能没有和主链同样强的安全保障。
- 需要用户对资产的管理和监控。

例子：

Polygon（原 Matic）：提供 Layer 2 扩容的 Sidechain 解决方案

#### Nested Blockchains

通过创建多个嵌套的链结构，允许每个子链处理不同的应用或交易类型，从而提高主链的吞吐量。每个嵌套区块链都有自己的操作规则，并与主链进行通信。

优点：

- 高度可定制。
- 可以分散工作负载，减少主链的压力。

缺点：

- 系统复杂度较高。
- 可能会影响数据的同步和一致性

### 2025.01.07

#### Layer2 扩容方案（续）

##### Validium

Validium 是一种类似于 ZK-Rollups 的方案，它通过使用`零知识证明`来确保数据的正确性，但与 ZK-Rollups 不同，Validium 将数据存储在链外（而非链上）。这种方案减少了链上存储的需求，从而提供更高的扩展性。

优点：

- 高效、安全，特别适合大规模的数据处理。
- 交易处理速度非常快，吞吐量极高。

缺点：

- 数据不存储在链上，可能会影响去中心化和安全性。
- 用户需要信任数据可用性提供者。

例子：

- StarkWare 的 StarkEx 使用 Validium。

##### Channel Networks

Channel Networks 是一种扩容技术，它基于多个状态通道连接形成一个网络，让多个参与者之间的交易可以快速、低成本地进行，并且可以跨多个链路进行支付。这种方式通常用于点对点的交易系统，可以高效处理大规模的支付网络。

优点：

- 支持高效的支付通道网络
- 可以跨多个参与方进行交易

缺点：

- 需要预先设立支付通道
- 与普通的状态通道相比，复杂度更高

例子：

- Raiden Network：实现了一个基于以太坊的支付通道网络，支持跨链支付。

##### Optimistic Virtual Machines (OVM)

Optimistic Virtual Machines 是一种在 Optimistic Rollups 上的进一步扩展。OVM 允许开发者在 Optimistic Rollups 上执行任何 EVM 兼容的智能合约，同时保持较低的交易费用和较高的吞吐量。

优点：

- 与 EVM 兼容，可以在 Rollups 上运行现有的智能合约。
- 提供了更高的扩展性和可编程性。

点：

- 需要优化与 EVM 的兼容性和性能。
- 提供的安全性依赖于挑战机制的有效性。

例子：

- OP：利用 OVM 技术来运行基于以太坊的智能合约。

##### 执行层分片（Execution Layer Sharding）

执行层分片是将区块链网络的计算负载分担到多个并行处理的子网络（或分片）上。每个分片负责一部分计算任务，从而实现对交易的并行处理。这种方式通常与其他 Layer 2 技术结合使用，以提供更高效的扩展性。

优点：

- 大大提高了交易的并行处理能力。
- 更高的吞吐量和更低的延迟。

缺点：

- 实现较为复杂，存在一致性和协调问题。
- 需要大量的网络和存储资源。

例子：

- Ethereum 2.0 中的分片设计，就是将执行层与数据层分离，通过执行层分片来扩展性能。

##### Hybrid Layer 2 Solutions

Hybrid Layer 2 方案结合了不同类型的 Layer 2 技术，如 Rollups 和状态通道，以弥补各自的不足之处。这些方案通常允许灵活选择合适的扩容技术，以满足具体应用场景的需求。

优点：

- 灵活、可定制，能够根据应用的需求选择不同的技术。
- 提供更高的扩展性和更低的交易成本。

缺点：

- 需要更复杂的设计和实施。
- 在不同技术之间可能存在协作问题。

例子：

- Loopring：结合了 ZK-Rollups 和状态通道技术，用于去中心化交易所（DEX）场景。

##### Data Availability Sampling (DAS)

DAS 是一种通过`采样`来检查数据可用性的方法，通常与其他扩容技术如 Rollups 或 Validium 一起使用。通过采样，用户可以确定数据是否可用，而不需要下载整个数据集，从而提高效率。

优点：

- 高效的数据可用性验证。
- 减少了数据存储和传输的开销。

缺点：

- 需要设计和实现有效的采样机制。
- 可能存在数据可用性风险，依赖于节点和协议的正确性。

例子：

- Celestia：一个新的区块链设计，专注于数据可用性和分布式计算，结合了 DAS 技术。

##### Comet (Cosmos SDK)

Comet 是 Cosmos SDK 中的一种基于区块链架构的扩容方案，通过支持不同区块链间的互操作性来提高网络的扩展性。Comet 提供了跨链通信和独立的区块链治理机制，可以大幅提升吞吐量。

优点：

- 强调链间互操作性和去中心化。
- 可扩展的多链架构。

缺点：

- 跨链通信需要高效的共识协议和安全保障。
- 实现和维护较为复杂。

例子：

- Cosmos：通过 IBC（Inter-Blockchain Communication）协议实现区块链间的通信和协作，支持大规模的扩展

### 2025.01.08

#### OP 与其他L2扩容比较

##### Optimistic Rollups (OP)

Optimistic Rollups 假设交易是有效的，只有在出现争议时才会通过`挑战机制`进行验证。它们将计算和状态更新移到链外，而交易的最终性则通过链上的验证确保。

- 优点：

  - 兼容性：可以与现有的以太坊智能合约兼容，支持 EVM。
  - 简单实现：相比于 ZK-Rollups，实现较为简单，开发者可以较容易上手。
  - 扩展性：相比直接在 Layer 1 上处理，吞吐量大幅提升。
  - 交易费用较低：相比直接使用 Layer 1，交易成本显著下降。

- 缺点：

  - 最终性延迟：因为交易的验证是异步的，可能会经历挑战期，最终性存在延迟。
  - 挑战机制复杂：需要有效的挑战机制来保证安全性，一旦挑战机制被滥用或失效，可能会影响系统安全。
  - 数据可用性问题：挑战期内，交易数据的可用性和透明性是一个潜在问题。

- 适用场景：

  - 去中心化金融（DeFi），尤其是有大量的复杂智能合约的场景。
  - 中等复杂度的应用，注重 EVM 兼容性。

- 典型例子：

  - **OP**
  - **Arbitrum**

##### ZK-Rollups (Zero-Knowledge Rollups)

ZK-Rollups 使用`零知识证明`技术，将大量交易批量打包，然后通过一个`ZK-SNARK（零知识简洁非交互式论证）`提交给主链。这种方案能在保证安全性的同时，提供非常高的扩展性。

- 优点：

  - 最终性快速：ZK-Rollups 不需要挑战期，交易的最终性几乎是即时的。
  - 更高的扩展性：可以在单个区块中批量处理更多交易，吞吐量极高。
  - 隐私保护：通过零知识证明，ZK-Rollups 可以实现数据隐私保护。

- 缺点：

  - 开发难度大：ZK-Rollups 的实现相对复杂，开发者需要掌握零知识证明技术。
  - 与现有合约兼容性差：与以太坊现有的智能合约兼容性较差，迁移现有合约较为困难。
  - 计算复杂性：生成和验证零知识证明所需的计算资源较高。

- 适用场景：

  - 对`性能和隐私`有较高要求的场景，尤其是`大规模交易`。
  - 区块链需要较高安全性和即时交易确认的场景。

- 典型例子：

  - zkSync
  - StarkWare（StarkEx）
  - Loopring

##### Plasma

Plasma 是一种通过`子链`将计算工作移至链外的扩容方案。交易先在子链中处理，最终结果通过`Merkle Tree`提交到主链。

- 优点：

  - 强大的安全性：主链通过提交`状态根`来确保子链的安全。
  - 能处理复杂应用：适合需要大量计算的复杂应用场景。
  - 适合批量处理：可以高效地处理批量交易。

- 缺点：

  - 退出机制复杂：用户需要能够安全地从 Plasma 链退出，确保他们的资金不会被卡住。
  - 状态更新延迟：由于 Plasma 的退出机制依赖于挑战期，因此存在一定的延迟。
  - 数据可用性问题：可能存在子链的数据不可用或不可访问的风险。

- 适用场景：

  - 大规模数据处理，如 游戏 和 高频交易。
  - 对 去中心化 和 安全性 有较高要求的场景。

- 典型例子：

  - OmiseGO

##### Sidechains

Sidechains 是独立的区块链，可以与主链进行`双向`资产转移。它们拥有自己的共识机制和治理方式，能够提供定制的特性和高扩展性。

- 优点：

  - 高度可定制：可以针对具体应用需求定制共识机制和链的参数。
  - 较低的交易费用：可以降低交易的成本，提升吞吐量。
  - 灵活性强：支持自定义智能合约和应用逻辑。

- 缺点：
  - 安全性较低：侧链的安全性依赖于它的共识机制，通常不如主链强。
  - 资产迁移复杂：虽然支持双向资产转移，但迁移资产时需要额外的信任机制。

- 适用场景：

  - 有特殊需求的应用，如需要定制化共识机制的项目。
  - 高吞吐量场景，如 游戏 和 内容创作平台。

- 典型例子：

  - Polygon（Matic）
  - XDAI

##### 状态通道（State Channels）

State Channels 允许用户在链外进行多次交易，只有最终的交易结果被提交到主链。这种方案适用于需要频繁交互的小额支付场景。

- 优点：

  - 低延迟：由于大部分交易在链外处理，交易响应速度非常快。
  - 低交易费用：链外交易不需要每笔都支付费用，只有最终结果被提交时才产生费用。
  - 隐私保护：交易过程完全链外，提供更好的隐私保护。

- 缺点：

  - 仅适用于特定场景：主要适合小额支付和频繁交易的应用，不适合所有应用。
  - 需事先设置通道：需要在参与方之间事先建立支付通道。

- 适用场景：

  - 即时支付，如 游戏内支付 和 微支付。
  - 频繁交互，如 去中心化交易所（DEX）。

- 典型例子：

  - Raiden Network（以太坊的状态通道）
  - Lightning Network（比特币的状态通道）

|特性|OP|Zk-rollup| Plasma | sideChains| State Channels|
|---|---|---|---|---|---|  
|扩展性| 中等，依赖于挑战期 | 高，批量处理大量交易 | 高，适用于大规模数据处理  | 高，适合大规模应用 |  高，针对小额支付和频繁交易 |
|安全性 |依赖挑战机制，有延迟 | 高，几乎即时的最终性 | 高，有退出机制和数据可用性问题  |较低，依赖于侧链的共识机制 | 高，链外交易有隐私保护 |
|开发难度| 中等，基于现有智能合约 | 高，零知识证明实现较复杂 |中等，需实现退出和挑战机制  | 低至中等，侧链可以定制 | 低，需要预设支付通道 |
|最终性 | 延迟较长，依赖挑战期  | 几乎即时，零知识证明确保最终性 | 延迟较长，退出期较复杂 | 快，资产可实时转移到侧链  | 快，链外交易立刻生效 |
|适用场景 | DeFi、智能合约复杂应用  | 高吞吐量、隐私保护、大规模交易 | 大规模数据处理、复杂应用 | 特定应用、定制化需求  | 微支付、小额频繁交易 |

### 2025.01.09

#### Rollup 成熟度评估

**Rollup成熟度评估框架**是一种用来评估 Rollup 解决方案的去中心化程度、安全性和治理结构的工具，旨在帮助开发者、用户和投资者理解不同 Rollup 项目在向完全去中心化和信任最小化过渡中的进展。

评估框架通过对 Rollup 的发展阶段、关键技术要求和治理模式的分析，为 Rollup 项目的成熟度提供量化和结构化的评估。

##### 为什么要评估Rollup的成熟度？

评估 Rollup 的成熟度主要是为了以下几个原因：

- **去中心化进程透明化**
  Rollup 是一种扩容解决方案，其目的是提升区块链的扩展性，同时保持去中心化和安全性。评估其成熟度可以帮助用户和开发者了解一个 Rollup 项目是否已经具备去中心化的能力，以及其去中心化进程是否符合预期。

- **确保安全性**
  一个 Rollup 项目的安全性直接关系到资金的安全、数据的完整性以及用户的信任。评估框架有助于识别项目中可能存在的安全漏洞，并帮助项目改进安全性。

- **帮助治理决策**
  不同阶段的 Rollup 可能采用不同的治理结构，从完全由运营商控制到逐步去中心化，再到完全去中心化。评估成熟度框架有助于确定项目治理是否适应其去中心化目标，并对潜在的风险进行管理。

- **评估用户保护机制**
  用户在使用 Rollup 时，可能面临系统升级、退出和其他治理变动的风险。评估框架帮助确保项目具备足够的用户保护措施，确保用户的资产在系统发生变动时能够安全退出。

- **为投资者提供决策依据**
  对于投资者而言，评估 Rollup 项目的成熟度可以帮助其判断一个项目是否已经达到了成熟的去中心化状态，并为投资决策提供数据支持

##### Rollup 成熟度评估框架

**L2BEAT**提出的评估框架是目前最为广泛采用的一种，它将 Rollup 的成熟度分为三个阶段：

###### **Stage 0 — 完全依赖“训练轮”**

在这一阶段，Rollup 系统的管理`完全由运营商`控制，系统处于“训练轮”状态。此时，虽然系统可能是开源的，但它的安全性和去中心化程度较低，很多关键操作仍然依赖运营商的信任。

- 特点：
  - 主要由运营商控制。
  - 数据可用性和状态根发布依赖 L1。
  - 系统缺乏去中心化的治理，安全性较弱

###### **Stage 1 — 限制性“训练轮”**

在这个阶段，Rollup 开始向`智能合约治理`过渡，但安全委员会仍然存在以解决潜在的问题。此时，系统实现了更为健全的证明机制，并允许用户在没有运营商协调的情况下进行资产退出。

- 特点：
  - 智能合约治理开始生效。
  - 允许欺诈证明，且至少有 5 个外部参与者能够提交欺诈证明。
  - 用户能够在没有运营商协调的情况下退出系统。
  - 存在安全委员会来保障系统安全。

###### **Stage 2 — 完全去中心化，无“训练轮”**

这一阶段，Rollup 完全由智能合约管理，系统去中心化程度达到最高。所有的操作，包括欺诈证明的提交、用户的退出等，都已完全去中心化，并且安全委员会的作用被大大限制，只有在系统发生重大问题时才能介入。

- 特点：
  - 完全去中心化
  - 允许任何用户提交欺诈证明。
  - 用户可以在 30 天内退出系统。
  - 安全委员会仅在链上错误时介入

##### Rollup成熟度评估框架的关键要求

每个阶段的框架都涉及以下几个方面的要求：

- 数据可用性（Data Availability）
  数据可用性确保所有的 L2 数据能在 L1 上进行验证，以便进行状态恢复和资产撤回。

- 证明系统（Proof System）
  包括 欺诈证明（Fraud Proofs） 和 零知识证明（zk-proofs），证明系统是保障 Rollup 操作正确性的核心部分。

- 治理和用户退出机制
  评估是否允许用户在没有运营商协调的情况下自主退出系统，并且是否提供足够长的退出时间窗口。

- 安全委员会的角色
  在 Stage 1 和 Stage 2 中，评估安全委员会是否过度干预，以及其是否由去中心化的参与者组成。

- 去中心化程度
  通过逐步去除“训练轮”的支持，逐渐实现完全的去中心化治理

#### OP和 Arbitrum 的成熟度评估

OP (OP) 和 Arbitrum 是目前最为流行的两个 Optimistic Rollup 解决方案，它们的成熟度在 L2BEAT 提出的阶段框架中大致可以归类为`Stage 1`，但是两者的具体情况略有不同

##### OP (OP)

- 治理和智能合约

  OP 在治理上逐步实现去中心化，已经引入了一个名为`**Optimism Collective**`的治理机制，结合了`代币持有者`和`治理代表`，旨在逐步移除中心化控制。
  虽然智能合约已经开始治理，但仍然存在一定程度的集中控制，特别是在**安全委员会**的角色上，虽然它在逐步去中心化。

- 欺诈证明（Fraud Proofs）

  OP 已经引入了一个相对成熟的欺诈证明机制，允许外部参与者提交欺诈证明来验证状态根的正确性。这个机制正在逐步开放，但仍然在一个受限的状态下运营，符合 Stage 1 的要求，即至少允许`5个外部参与者`提交欺诈证明。

- 数据可用性和状态根发布

  OP 会将 L2 的状态根发布到 L1，以确保用户能够撤回资产并进行审计。
  数据可用性方面，OP 保证 L1 上的数据是可用的，且任何人都可以基于 L1 数据来验证 L2 状态。

- 退出机制

  用户在系统发生不希望的升级时，可以在一定的时间窗口内退出，通常是`7 天`。这个时间窗口符合 Stage 1 的要求，允许用户在不满意的情况下进行资产撤回。

- 安全委员会

  OP 仍然依赖于`安全委员会`来解决潜在的系统问题。该委员会由多个独立实体组成，确保在出现错误时可以采取紧急措施

##### Arbitrum

- 治理和智能合约

  Arbitrum 同样实现了逐步去中心化的治理。它的治理体系包括 Arbitrum DAO 和 Arbitrum Foundation，并且正在推进更多的社区参与。尽管治理已经部分去中心化，但核心的决策和控制仍然由 Arbitrum 团队以及基金会掌握。

- 欺诈证明（Fraud Proofs）

  Arbitrum 采用了欺诈证明系统，这个系统在 Stage 1 阶段允许外部参与者提交欺诈证明。它的欺诈证明机制相对完善，且已经对外开放，至少有`5个独立的外部参与者`可以参与验证。

- 数据可用性和状态根发布

  Arbitrum 将其 L2 的状态根定期发布到 L1，以便在需要时用户可以进行提现或审计。
  与 OP 相似，Arbitrum 的数据可用性通过 L1 来保障，确保系统的透明性和可靠性。

- 退出机制  

  Arbitrum 同样为用户提供了在`7 天`的时间窗口内退出的机制，确保在不满意的情况下，用户可以退出并撤回资产。

- 安全委员会

  Arbitrum 也拥有一个类似的`安全委员会`，该委员会在出现问题时可以进行干预。委员会由多个不同的实体组成，参与者必须达到一定的共识阈值

### 2025.01.10

#### Stages

Stages 描述了从用户提交交易到最终确认这些交易的整个过程

##### **1. 提交阶段（Submission Stage）**

在这个阶段，Rollup 上的交易首先由用户提交，通常是通过智能合约或交易输入进行。这些交易信息并没有立即在主链上执行，而是通过 Rollup 机制被收集并准备进一步处理。

- Optimistic Rollups：在此阶段，交易被视为有效并提交到链外，但是它们并没有立即在主链上验证。在这个阶段，交易将被暂时存储在一个队列或待处理状态中。
- ZK-Rollups：在 ZK-Rollups 中，交易会通过零知识证明提交，并在链下执行，但在主链上提交的是计算的证明而不是交易本身。

##### **2. 数据聚合阶段（Aggregation Stage）**

在这个阶段，多个交易被批量处理并聚合成一个大的数据包或批次。这是 Rollup 的核心特性，目的是将多个交易合并为单一交易，减少对主链的负载。

- Optimistic Rollups：交易被聚合到一个批次中，这些交易在一段时间内不会立即进行验证，系统假设它们是有效的，除非有人提出挑战。
- ZK-Rollups：交易被打包成一个单独的“区块”，然后使用零知识证明生成该批次的合法性证明，这个证明被提交到主链。

##### **3. 提交证明阶段（Proof Submission Stage）**

这是 Rollup 方案中的一个关键阶段，涉及将交易数据的合法性证明提交到主链。不同类型的 Rollups 在这个阶段的处理方式有所不同：

- Optimistic Rollups：交易提交到主链后，通常会有一个**挑战期**，在此期间任何节点都可以发起`欺诈证明（Fraud Proof）`，以证明某个交易或状态变更是无效的。如果没有挑战，交易会被认为有效。
- ZK-Rollups：在提交批次的交易后，ZK-Rollups 会将`零知识证明（ZK-SNARK 或 ZK-STARK）`提交到主链上，证明这些交易是有效的。由于零知识证明的特性，一旦提交，交易就能立即被认为有效。

##### **4. 验证阶段（Verification Stage）**

在这个阶段，提交的交易或证明被主链验证，确保其合法性。

- Optimistic Rollups：主链不需要立即验证所有交易，除非有争议发生。挑战期结束后，如果没有提交有效的欺诈证明，则交易被视为有效。
- ZK-Rollups：主链通过验证零知识证明来确认所有交易的有效性。ZK-Rollups 的验证非常快速，因为它只需要验证一个小的证明，而不是验证每一笔交易。

##### **5. 最终确认阶段（Finality Stage）**

一旦交易通过了验证过程，它们将被最终确认并记录在主链上，通常意味着这些交易不可撤销。

- Optimistic Rollups：交易的最终确认通常会有一定的延迟（通常是挑战期过后）。只有在挑战期结束并且没有发现欺诈行为时，交易才会被最终确认。
- ZK-Rollups：由于零知识证明的即时验证，交易的确认速度更快，一旦证明提交到主链，交易就会被认为是最终确认的

##### **6. 撤销阶段（Exit Stage）**

当用户或智能合约需要从 Rollup 环境中取回资金时，会进入撤销阶段。这个阶段涉及将资产从 Rollup 转移回主链。

- Optimistic Rollups：用户在退出时通常需要等待一个挑战期，以确保资产的撤销是合法的。如果没有其他人提出挑战，用户的资金可以安全地转移到主链。
- ZK-Rollups：ZK-Rollups 在撤销阶段通常会更快速，因为它们的验证过程即时且安全。一旦交易的合法性被确认，资产便可以快速转移回主链

总之，Rollup 的 Stages 术语通常用于描述整个交易处理和验证过程，涵盖从用户提交交易到最终确认的每一个步骤

### 2025.01.11

#### 由浅入深了解 Op 治理理念

OP 是一种**Layer 2**扩容解决方案，旨在提高**以太坊**网络的吞吐量和效率。OP 的治理理念在于**逐步去中心化**，这意味着随着时间的推移，系统会逐渐从一个由少数团队控制的结构，转变为一个由**社区**和**用户**共同决策和管理的系统。

##### 什么是治理

在区块链和加密货币的世界里，治理指的是**如何管理和决策一个项目的未来发展**。具体来说，治理决定了**谁**可以做出重要决策，**什么样的规则**应该适用于网络，以及如何解决出现的问题。简单来说，**治理就是管理和控制区块链项目的方式**。

##### 治理理念：去中心化交

`去中心化`是区块链的核心理念之一。它意味着**没有单一的控制者**（如公司或个人），而是由许多不同的参与者共同控制和管理系统。对于 OP 来说，治理的目标是**让决策过程不再集中在少数几个团队或公司手中，而是让更多的人（包括开发者、用户和投资者等）都有机会参与**

“去中心化”是区块链的核心理念之一。它意味着 没有单一的控制者（如公司或个人），而是由许多不同的参与者共同控制和管理系统。对于 OP 来说，治理的目标是让决策过程不再集中在少数几个团队或公司手中，而是让更多的人（包括开发者、用户和投资者等）都有机会参与。

##### OP 的治理机制

OP 的治理机制分为几个不同的阶段，逐步向去中心化的方向发展。OP 目前的治理机制是通过一个叫做**Optimism Collective**的组织来进行管理。这个组织结合了**代币持有者**和**治理代表**的角色，逐步推动项目的去中心化进程。

- 初期：集中化管理

  在 OP 的初期阶段，治理是由 OP 团队（即项目的创始人和开发者）主导的。团队负责做出关于系统更新、功能改进、资金分配等重要决策。这就像是一个初创公司，创始人控制着一切。

- 逐步去中心化

  随着时间的推移，OP 开始引入更多的**社区参与**。例如，推出了**代币（OP token）**，代币持有者可以通过**投票**来参与决策过程。代币持有者可以对重要的提案进行投票，决定是否接受某些更改。通过这种方式，项目的控制权逐渐从少数开发者手中转移到广大社区成员手中。

- 完全去中心化

  最终，OP 的目标是实现**完全去中心化治理**。意味着项目的所有决策都应该由**社区**来共同决定，而不再依赖任何中心化的控制。为此，OP 会继续改进治理结构，增加更多的治理代表和投票机制，让所有参与者都能够在公平的基础上提出和讨论提案

##### OP 的治理结构

- Optimism Collective: OP 采用了一种**双重治理**的模型，包括两大部分：

  - `治理代表`（Governance Delegates）：这些代表由**OP 代币持有者**选举产生，负责投票和决策。
  - `公民`（Citizens）：公民是 OP 社区的所有成员，可以参与到治理中，但他们不直接参与决策投票，而是通过提案、投票和讨论影响决策。

- 激励机制：为了鼓励更多的参与者参与治理，OP 为**OP 代币持有者**和**治理代表**提供激励，比如奖励代币或者其他奖励。这有助于增加社区的参与度。

- 多签钱包（Multisig Wallet）：在决策执行阶段，OP 还使用多签钱包进行资金管理。这意味着，只有当多个治理代表达成一致时，资金才能被支出或转移，从而避免了单一实体的滥用权力

#### OP 的治理组织

OP 的治理组织分为两大部分：**Optimism Collective**和**OP Foundation**。两者共同作用于 OP 网络的管理和发展，但职责和作用各有不同

##### Optimism Collective

Optimism Collective：OP 网络的去中心化治理`核心`，是由 OP 网络社区中的各方参与者组成的组织，旨在**管理和决策**关于 OP 的关键问题，包括但不限于：系统升级、资金分配、协议更新等

###### Optimism Collective 组成

Optimism Collective 主要组成部分，它们各自负责不同的治理职能：

- **公民（Citizens）**

  - 公民是 Optimism Collective 中最广泛的群体，由**所有 OP 代币持有者**和**参与者**组成。这些人通过持有 OP 代币成为公民，并有权参与到治理活动中。
  - 公民的主要作用是参与**提案**、**讨论**和**投票**等。尽管不能直接做出最终决策，但他们的意见对治理流程具有重要影响。
  - 公民的奖励：Optimism 会通过**OP 代币**激励公民参与到治理中来，促进更多的社区互动。

- 治理代表（Governance Delegates）

  - 治理代表是由**OP 代币持有者**选举产生的核心决策者。代表们通常拥有更大的投票权，负责做出关键的决策，如对重要提案的投票、批准资金支出等。
  - 治理代表的职责包括：评估提案、向公民报告并解释决策、投票决定是否批准特定提案等。每位治理代表都可以代表一定数量的OP 代币持有者，并将其投票权行使到决策中。
  - 治理代表可以通过 持有**OP 代币**选举出来，选举的过程是公开的，旨在确保这些代表具有充分的支持和授权

- 安全委员会（Security Council）

  - 安全委员会 是 Optimism Collective 中一个重要的安全保障角色。它由一组多签持有者组成，负责在特定情况下处理系统的紧急问题，例如 bug 或漏洞修复。
  - 安全委员会的成员来自不同的背景和组织，以确保决策的多样性和去中心化

###### Optimism Collective 的运作机制

Optimism Collective 的运作分为几个关键流程，确保其去中心化治理目标的实现：

- 1. 提案与讨论：
  
  - 提案发起：任何持有 OP 代币的公民都可以提出提案。提案可以涉及网络升级、资金的使用、或协议的更新等内容。
  - 讨论和审议：提出的提案会进入社区的讨论阶段。在这段时间里，社区成员、治理代表及开发者等会参与讨论、修改和优化提案。
  - 社区反馈：公民和治理代表会通过线上平台（如论坛、投票系统等）表达意见和建议。反馈可以帮助改进提案，并为最终决策提供依据。

- 2. 投票与决策：

  - 治理代表投票：治理代表会在经过充分讨论后对提案进行投票。如果提案通过，相关的变更或决策就会执行。
  - 投票权的分配：治理代表的投票权通常取决于他们代表的代币数量，代表更多代币的治理代表会有更多的影响力。这个投票过程也包括了公民的参与，尤其是在提案内容的初步审核阶段。

- 3. 资金分配与激励

  - Optimism Collective 还负责**资金管理**，例如，决定如何分配 Optimism 的**财政资金**。Optimism 使用这些资金来资助社区项目、开发者奖励、协议更新等。
  - 资金的分配也是通过**提案和投票**的方式进行，确保每一笔资金的支出都符合社区的需求和利益。
  - 代币激励：通过为公民和治理代表提供 OP 代币奖励，Optimism 鼓励更多人参与到治理中来，推动治理过程更加民主化

###### Optimism Collective 与 OP 代币的关系

Optimism Collective 的治理结构与**OP 代币**紧密相关，OP 代币不仅是 Optimism 网络的**原生代币**，还是其治理的基础

- 公民通过持有 OP 代币参与治理，持有一定数量的 OP 代币就能获得参与提案、投票和治理的资格。
- 治理代表的选举：OP 代币持有者可以投票选举治理代表。治理代表将代表公民投票并参与决策。
- 代币激励：为了鼓励积极参与治理，Optimism 为公民和治理代表提供了 OP 代币奖励。例如，治理代表可以通过批准或反对某些提案来获得奖励，激励他们参与更多的治理活动。

###### Optimism Collective 在 OP 治理中的作用

- 决策管理者：它负责管理和协调治理提案，确保提案得到充分讨论和审议后才能进行投票。
- 社区声音的代表：通过治理代表，Optimism Collective 代表了广泛社区成员的意见，并确保他们的声音能够影响最终决策。
- 资金的管理者：它控制和管理 Optimism 网络的资金，确保资金被公平地分配给有价值的社区和开发者项目。
- 推动去中心化：通过逐步增加社区和公民的参与度，Optimism Collective 推动 Optimism 网络的去中心化进程。

###### 为什么 Optimism Collective 重要

- 去中心化治理：它是 Optimism 向去中心化过渡的关键机制之一，能够逐步减少团队对项目的控制权，让社区能够共同参与决策，避免了单一实体控制的风险。
- 增强透明度：Optimism Collective 的决策是公开的，所有提案、投票和资金分配都会接受社区监督，确保项目的透明度和公正性。
- 激励创新和发展：通过为开发者和社区成员提供激励，Optimism Collective 可以推动生态系统中的创新和增长，吸引更多的人参与到网络的建设中

##### Optimism Foundation

Optimism Foundation 是一个非营利性组织，负责优化和推动 Optimism 生态系统的长期发展。在初期阶段扮演着重要角色，现在将更多权力交给 Optimism Collective 和社区成员

### 2025.01.12

#### OP投票机制

**Optimism 的投票机制**是其治理架构的重要组成部分，旨在促进社区参与并确保治理过程的公平性和透明性。投票机制的设计融合了**代币投票**和**基于公民身份**的治理，结合了**权力去中心化**和**社区驱动**的原则

##### 投票机制的核心特点

###### (1) 双院治理结构

Optimism 的治理模型采用了**双院制结构**，分为以下两个主要部分：

- Token House（代币院）

  - 由 OP 代币持有者 组成，代表资本驱动的决策。
  - 持有 OP 代币的用户可以基于其持有量参与投票。
  - 主要负责 资金分配 和 生态资助 的相关决策。

- Citizens' House（公民院）

  - 由被授予`公民身份（Citizenship）`的个人组成，代表社区的长远利益。
  - 公民身份通过`非代币化`方式授予，强调去中心化和包容性，避免治理完全被资本控制。
  - 主要负责 公共物品资助 和与社会影响相关的决策。

- 双院治理的目标：

  - 代币院 聚焦资本和发展效率。
  - 公民院 强调社会价值和公益性，平衡短期经济利益与长期社区利益。

###### (2) 基于二次方投票的机制

在某些治理决策中，Optimism 采用**二次方投票机制（Quadratic Voting）**，以减少代币持有量对投票结果的绝对影响。

- 二次方投票的原理：

  - 每个投票者的**投票权重**与其用于支持某一选项的代币数量成**平方根关系**。
    - 如果一个用户投 1 OP，则计算为 √1 = 1
    - 如果投 4 OP，则权重为 √4 = 2
    - 如果投 9 OP，则权重为 √9 = 3
  - 优势：
    - 降低了大户（鲸鱼）的投票权优势
    - 鼓励广泛的社区参与，小持有者的影响力被放大
    - 确保治理更加公平，不完全受资本的控制

###### (3) 动态调整机制

投票规则和标准可以随着社区需求和治理经验的增加进行优化

##### 投票流程

投票机制分为以下几个阶段：

1. 提案阶段

- 社区成员可以在 Optimism 治理论坛（Governance Forum）提交提案。
- 提案需包括明确的目标、预算（如有）及预期影响。

2. 社区讨论

- 提案发布后，社区成员可以对其进行公开讨论，提出建议或反对意见。
- 提案提交者可根据社区反馈优化内容。

3. 正式投票

- 提案进入正式投票流程，由 Token House 或 Citizens' House 决定结果。
- 投票的执行根据提案性质决定：
  - 代币院投票：与资金分配、激励相关的提案。
  - 公民院投票：与公共物品资助相关的提案。

4. 执行阶段

- 获得通过的提案交由 Optimism Foundation 或相关团队负责实施。
- 实施过程中，社区可以监督进展。

##### 提案的种类和投票门槛

###### (1) 普通提案

- 例如协议升级、小规模的生态资助、社区改进计划等。
- 投票门槛相对较低，通常由 代币院 或 公民院 单独投票决定。

###### (2) 重大提案

- 例如协议的核心功能变更、大规模资金分配、治理规则调整等。
- 可能需要 双院制协商，即代币院和公民院共同决定。

###### (3) 紧急提案

- 在网络遭遇漏洞、攻击或其他紧急情况下，由 安全委员会 临时决策，并在事后由社区进行表决确认。

##### 意义与影响

- 增强社区参与感

  任何持有 OP 的用户都可以参与投票，或通过贡献获得公民身份，直接影响决策。

- 推动去中心化治理

  双院制治理模式和公平的投票规则有助于实现真正的去中心化。

- 保障长远发展

  通过公民院的存在，Optimism 不仅关注短期经济利益，还致力于公共物品资助和社区价值
  
<!-- Content_END -->
